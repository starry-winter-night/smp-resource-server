var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(e){return e.raw=e};$jscomp.createTemplateTagFirstArgWithRaw=function(e,n){e.raw=n;return e};$jscomp.arrayIteratorImpl=function(e){var n=0;return function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}}};$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}};$jscomp.makeIterator=function(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):$jscomp.arrayIterator(e)};
$jscomp.arrayFromIterator=function(e){for(var n,q=[];!(n=e.next()).done;)q.push(n.value);return q};$jscomp.arrayFromIterable=function(e){return e instanceof Array?e:$jscomp.arrayFromIterator($jscomp.makeIterator(e))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(e){var n=function(){};n.prototype=e;return new n};$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,n,q){if(e==Array.prototype||e==Object.prototype)return e;e[n]=q.value;return e};
$jscomp.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var n=0;n<e.length;++n){var q=e[n];if(q&&q.Math==Math)return q}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(e,n){var q=$jscomp.propertyToPolyfillSymbol[n];if(null==q)return e[n];q=e[q];return void 0!==q?q:e[n]};$jscomp.polyfill=function(e,n,q,v){n&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(e,n,q,v):$jscomp.polyfillUnisolated(e,n,q,v))};
$jscomp.polyfillUnisolated=function(e,n,q,v){q=$jscomp.global;e=e.split(".");for(v=0;v<e.length-1;v++){var B=e[v];if(!(B in q))return;q=q[B]}e=e[e.length-1];v=q[e];n=n(v);n!=v&&null!=n&&$jscomp.defineProperty(q,e,{configurable:!0,writable:!0,value:n})};
$jscomp.polyfillIsolated=function(e,n,q,v){var B=e.split(".");e=1===B.length;v=B[0];v=!e&&v in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var L=0;L<B.length-1;L++){var Q=B[L];if(!(Q in v))return;v=v[Q]}B=B[B.length-1];q=$jscomp.IS_SYMBOL_NATIVE&&"es6"===q?v[B]:null;n=n(q);null!=n&&(e?$jscomp.defineProperty($jscomp.polyfills,B,{configurable:!0,writable:!0,value:n}):n!==q&&(void 0===$jscomp.propertyToPolyfillSymbol[B]&&(q=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[B]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(B):$jscomp.POLYFILL_PREFIX+q+"$"+B),$jscomp.defineProperty(v,$jscomp.propertyToPolyfillSymbol[B],{configurable:!0,writable:!0,value:n})))};
$jscomp.getConstructImplementation=function(){function e(){function q(){}new q;Reflect.construct(q,[],function(){});return new q instanceof q}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(e())return Reflect.construct;var n=Reflect.construct;return function(q,v,B){q=n(q,v);B&&Reflect.setPrototypeOf(q,B.prototype);return q}}return function(q,v,B){void 0===B&&(B=q);B=$jscomp.objectCreate(B.prototype||Object.prototype);return Function.prototype.apply.call(q,B,v)||
B}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var e={a:!0},n={};try{return n.__proto__=e,n.a}catch(q){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(e,n){e.__proto__=n;if(e.__proto__!==n)throw new TypeError(e+" is not extensible");return e}:null;
$jscomp.inherits=function(e,n){e.prototype=$jscomp.objectCreate(n.prototype);e.prototype.constructor=e;if($jscomp.setPrototypeOf){var q=$jscomp.setPrototypeOf;q(e,n)}else for(q in n)if("prototype"!=q)if(Object.defineProperties){var v=Object.getOwnPropertyDescriptor(n,q);v&&Object.defineProperty(e,q,v)}else e[q]=n[q];e.superClass_=n.prototype};$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(e){this.yieldResult=e};
$jscomp.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype["return"]=function(e){this.abruptCompletion_={"return":e};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(e,n){this.nextAddress=n;return{value:e}};
$jscomp.generator.Context.prototype.yieldAll=function(e,n){var q=$jscomp.makeIterator(e),v=q.next();$jscomp.generator.ensureIteratorResultIsObject_(v);if(v.done)this.yieldResult=v.value,this.nextAddress=n;else return this.yieldAllIterator_=q,this.yield(v.value,n)};$jscomp.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(e,n){this.catchAddress_=e;void 0!=n&&(this.finallyAddress_=n)};$jscomp.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0;this.finallyAddress_=e||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(e,n){this.nextAddress=e;this.catchAddress_=n||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(e){this.catchAddress_=e||0;e=this.abruptCompletion_.exception;this.abruptCompletion_=null;return e};$jscomp.generator.Context.prototype.enterFinallyBlock=function(e,n,q){q?this.finallyContexts_[q]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=e||0;this.finallyAddress_=n||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(e,n){var q=this.finallyContexts_.splice(n||0)[0];if(q=this.abruptCompletion_=this.abruptCompletion_||q){if(q.isException)return this.jumpToErrorHandler_();void 0!=q.jumpTo&&this.finallyAddress_<q.jumpTo?(this.nextAddress=q.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e};$jscomp.generator.Context.prototype.forIn=function(e){return new $jscomp.generator.Context.PropertyIterator(e)};
$jscomp.generator.Context.PropertyIterator=function(e){this.object_=e;this.properties_=[];for(var n in e)this.properties_.push(n);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var e=this.properties_.pop();if(e in this.object_)return e}return null};$jscomp.generator.Engine_=function(e){this.context_=new $jscomp.generator.Context;this.program_=e};
$jscomp.generator.Engine_.prototype.next_=function(e){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_);this.context_.next_(e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(e){this.context_.start_();var n=this.context_.yieldAllIterator_;if(n)return this.yieldAllStep_("return"in n?n["return"]:function(q){return{value:q,done:!0}},e,this.context_["return"]);this.context_["return"](e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(e){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],e,this.context_.next_);this.context_.throw_(e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(e,n,q){try{var v=e.call(this.context_.yieldAllIterator_,n);$jscomp.generator.ensureIteratorResultIsObject_(v);if(!v.done)return this.context_.stop_(),v;var B=v.value}catch(L){return this.context_.yieldAllIterator_=null,this.context_.throw_(L),this.nextStep_()}this.context_.yieldAllIterator_=null;q.call(this.context_,B);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(n){this.context_.yieldResult=void 0,this.context_.throw_(n)}this.context_.stop_();if(this.context_.abruptCompletion_){e=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(e.isException)throw e.exception;return{value:e["return"],done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(e){this.next=function(n){return e.next_(n)};this["throw"]=function(n){return e.throw_(n)};this["return"]=function(n){return e.return_(n)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(e,n){var q=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(n));$jscomp.setPrototypeOf&&e.prototype&&$jscomp.setPrototypeOf(q,e.prototype);return q};
$jscomp.asyncExecutePromiseGenerator=function(e){function n(v){return e.next(v)}function q(v){return e["throw"](v)}return new Promise(function(v,B){function L(Q){Q.done?v(Q.value):Promise.resolve(Q.value).then(n,q).then(L,B)}L(e.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(e){return $jscomp.asyncExecutePromiseGenerator(e())};$jscomp.asyncExecutePromiseGeneratorProgram=function(e){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(e)))};
(function(e){var n=function(b,c,a){this.clientId=b;this.apiKey=c;this.socketIo=a;this.position={icon:{x:"0px",y:"0px"},modal:{x:"0px",y:"0px"}};this.socket=null};n.prototype.init=function(b,c){var a=this,d,l,h,g,f;return $jscomp.asyncExecutePromiseGeneratorProgram(function(k){switch(k.nextAddress){case 1:return a.args={clientId:a.clientId,apiKey:a.apiKey,userId:b,domId:c},k.setCatchFinallyBlocks(2),B(a.args)?k.yield(L(a.args),4):k["return"]();case 4:d=k.yieldResult;ba.sectionIcon(a.args);qa(a.args,
d.type);Q(a.position);ra(a.position,d.type);if(a.socketIo){var r=k.yield;var u=a.args;var m=u.clientId;u=(0,a.socketIo)("wss://smp-resource.link/"+m,{reconnectionDelayMax:1E4,autoConnect:!1,transports:["websocket"],auth:{apiKey:u.apiKey},query:{userId:u.userId,clientId:m}});return r.call(k,u,8)}r=k.yield;u=a.args;m=u.clientId;u=io("wss://smp-resource.link/"+m,{reconnectionDelayMax:1E4,autoConnect:!1,transports:["websocket"],auth:{apiKey:u.apiKey},query:{userId:u.userId,clientId:m}});return r.call(k,
u,7);case 7:l=k.yieldResult;k.jumpTo(6);break;case 8:l=k.yieldResult;case 6:h=l;a.socket=h;ia(d.state);r=d.state;"on"===r||"refresh"===r?(ea.on(h),v(h).serverSwitch(r)):"off"===r&&(G.drawNotice(),G.drawSystemMessage(r));sa(h);ta(h,d.type);ua(h);va(h);wa();xa(h,d.type,b);ya(h,d.type);za(d.type);ja(h,d.type);W.clickIconHide();W.clickReDraw();g=new q(h);g.error();g.connect();g.btnSwitch();g.start(b,d.type);g.preview();g.join(b,d.type);g.prevDialog(b);g.message(b,d.type);g.systemMessage(b);g.observe();
k.leaveTryBlock(0);break;case 2:f=k.enterCatchBlock(),U.errHandle(f),k.jumpToEnd()}})};n.prototype.setPosition=function(b){this.position=b};n.prototype.logout=function(){this.socket.disconnect()};n={setting:{chatService:n}};var q=function(b){this.socket=b};q.prototype.connect=function(){this.socket.on("connect",function(){console.log("server connect!!")})};q.prototype.btnSwitch=function(){var b=this;this.socket.on("switch",function(c){"off"===c&&(ea.off(b.socket),ba.dialog(),G.drawNotice(),G.drawSystemMessage(c))})};
q.prototype.start=function(b,c){this.socket.on("start",function(a){var d=a.dialog,l=a.previewLog,h=a.alarmCount;ba.dialog();if(0!==d.length){var g=0;d.forEach(function(f){G.drawDialog(f,b);f.observe||f.userId===b||(g+=1)});G.drawSystemMessage("on");W.icon(g,c)}l&&(ba.preview(),l.forEach(function(f){G.drawPreview(f);var k=ka(f.roomName);la(k,f);h&&(W.refreshPreview(h.previewCount,f.roomName),W.icon(h.iconCount,c))}),0!==d.length&&"manager"===c&&ma(d[0].roomName))})};q.prototype.preview=function(){function b(){var c=
document.querySelectorAll(".smpChat__connect_previewAlarm"),a=0;[].concat($jscomp.arrayFromIterable(c)).forEach(function(d){d.textContent&&(d=parseInt(d.textContent),"number"===typeof d&&(a+=d))});return a}this.socket.on("preview",function(c,a){if("Delete"===a)document.querySelector('.smpChat__connect__container[data-id="'+c+'"]').remove();else{G.drawPreview(c);var d=ka(c.roomName);la(d,c);W.messagePreview(c.alarm,c.roomName);d=b();var l=document.querySelector(".smpChat__message__alarm"),h=document.querySelector(".smpChat__dialog__msgAlarm");
if(0===d)l.classList.remove("view"),h.classList.remove("view");else if(0<d)if(l.classList.contains("view")){var g=parseInt(l.textContent);"number"===typeof g&&(l.textContent=d<g?g+1:d,l=parseInt(h.textContent),"number"===typeof l&&(h.textContent=d<l?l+1:d))}else l.classList.add("view"),l.textContent=d,h.classList.add("view"),h.textContent=d}})};q.prototype.join=function(b,c){this.socket.on("join",function(a){function d(){var g=document.querySelectorAll(".smpChat__connect_previewAlarm"),f=document.querySelector(".smpChat__dialog__msgAlarm");
f.classList.add("view");if(g){var k=0;[].concat($jscomp.arrayFromIterable(g)).map(function(r){r.textContent&&(r=parseInt(r.textContent),"number"===typeof r&&0<r&&(k+=r))});0<k?f.textContent=k:f.classList.remove("view")}else f.textContent=0,f.classList.remove("view")}function l(){var g=document.querySelector(".smpChat__section__connect"),f=document.querySelector(".smpChat__section__managerDialog");g.style.display="none";f.classList.add("view")}ba.dialog(a[0].roomName);a.forEach(function(g){return G.drawDialog(g,
b)});ma(a[0].roomName);a=window.innerWidth;var h=na(c);a<h.width&&(l(),d());M(document.querySelector(".smpChat__dialog__chatView"))})};q.prototype.prevDialog=function(b){this.socket.on("prevDialog",function(c){var a=document.querySelector(".smpChat__dialog__chatView"),d=a.scrollHeight;c.reverse().forEach(function(l){G.drawPrevDialog(l,b)});a.scrollTop=a.scrollHeight-d})};q.prototype.message=function(b,c){var a=this;this.socket.on("message",function(d){G.drawDialog(d,b);M(document.querySelector(".smpChat__dialog__chatView"));
d.userId!==b&&(W.icon(d.alarm,c),ja(a.socket,c))})};q.prototype.systemMessage=function(){this.socket.on("systemMessage",function(b){var c=null;(document.querySelector(".smpChat__connect__switchInput")||document.querySelector(".smpChat__dialog__switchInput")).checked&&(c="on");G.drawSystemMessage(c,b)})};q.prototype.observe=function(){this.socket.on("observe",function(b){b&&fa()})};q.prototype.alarm=function(){this.socket.on("alarm",function(b){var c=0;for(userId in b)c+=b[userId];document.querySelector(".smpChat__message__alarm").textContent=
c})};q.prototype.disconnect=function(){this.socket.on("disconnect",function(b){console.log(b)})};q.prototype.error=function(){this.socket.on("connect_error",function(b){console.log(b);console.log(b.data);var c;"duplicate_connection"===(null==(c=b.data)?void 0:c.message)&&(ia(b.data.state),G.drawAlert("duplicate"))})};var v=function(b){return{serverSwitch:function(c){return b.emit("switch",c)},message:function(c,a){return b.emit("message",c,a)},join:function(c){return b.emit("join",c)},leave:function(c){return b.emit("leave",
c)},prevDialog:function(c){return b.emit("prevDialog",c)},observe:function(c,a){return b.emit("observe",c,a)},alarm:function(c,a){return b.emit("alarm",c,a)}}},B=function(b){var c=b.clientId,a=b.apiKey,d=b.userId;b=b.domId;return c&&""!==c&&"string"===typeof c?a&&""!==a&&"string"===typeof a?d?b&&""!==b&&"string"===typeof b?!0:(U.errHandle("\uc62c\ubc14\ub978 documentId\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."),!1):(U.errHandle("id\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."),!1):(U.errHandle("apiKey\uac00 \uc720\ud6a8\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),
!1):(U.errHandle("clientId\uac00 \uc720\ud6a8\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),!1)},L=function(b){var c=b.clientId,a=b.userId,d,l;return $jscomp.asyncExecutePromiseGeneratorProgram(function(h){if(1==h.nextAddress)return h.yield(fetch("https://smp-resource.link/smpChat?clientId="+c+"&userId="+a),2);if(3!=h.nextAddress)return d=h.yieldResult,d.ok?h.yield(d.json(),3):(U.errHandle(d.statusText),h["return"]());l=h.yieldResult;return h["return"](l)})},Q=function(b){var c=document.querySelector(".smpChat__iconSection"),
a=document.querySelector(".smpChat__section");c.style.transform="translate("+b.icon.x+", "+b.icon.y+")";a.style.transform="translate("+b.modal.x+", "+b.modal.y+")"},na=function(b){var c=null;"manager"===b&&(c={width:600,height:700});"client"===b&&(c={width:451,height:700});return c},oa=function(){return/Android|webOS|iPhone|iPad|iPod/i.test(navigator.userAgent)},ra=function(b,c){function a(){var p=document.querySelector(".smpChat__connect__goForwardImg"),z=document.querySelector(".smpChat__section__connect"),
w=document.querySelector(".smpChat__section__managerDialog");p.addEventListener("click",function(){z.style.display="none";w.classList.add("view");M(document.querySelector(".smpChat__dialog__chatView"))});document.querySelector(".smpChat__dialog__gobackImg").addEventListener("click",function(){z.style.display="block";w.classList.remove("view")})}function d(p,z,w){"manager"===z&&(p.contents.style.maxWidth=w.contentsMaxWidth,p.connect.style.height=w.connectHeight,p.list.style.maxHeight=w.listMaxHeight);
p.dialog.style.width=w.dialogWidth;p.dialog.style.maxHeight=w.dialogMaxHeight;p.contents.style.height=w.contentsHeight;p.section.style.maxWidth=w.sectionMaxWidth;p.section.style.maxHeight=w.sectionMaxHeight;p.chatView.style.maxHeight=w.chatViewMaxHeight;p.chatView.style.height=w.chatViewHeight;p.chatView.style.minHeight=w.chatViewMinHeight}function l(p,z,w,E,C){return function(){var D=window.innerWidth,x=window.innerHeight;if(p.iconSection.classList.contains("smp_active")){var F=p.section.getBoundingClientRect(),
H=F.width+(window.innerWidth-F.right);if(window.innerWidth<=F.width+F.left||window.innerWidth<=H)p.section.style.transform="translate(0px, 0px)";window.innerHeight<F.bottom&&(p.section.style.transform="translateY(0px)")}D<=w.width&&("manager"===z&&(p.dialog.style.maxHeight=x-40+"px",p.contents.style.maxWidth=D-5+"px",p.connect.style.height=x-40+"px",p.list.style.maxHeight=x-75+"px",p.connect.style.display="none",p.dialog.classList.add("view")),"client"===z&&(p.dialog.style.maxHeight=x-45+"px"),p.section.style.maxWidth=
D+"px",p.dialog.style.width=D-10+"px",p.contents.style.height=x-35+"px",p.section.style.maxHeight=x+"px",p.chatView.style.maxHeight=x-140+"px",p.chatView.style.height=x-140+"px",p.chatView.style.minHeight=x-320+"px");600<D&&x>w.height&&(d(p,z,C),"manager"===z&&(p.connect.style.display="block"));600<D&&x<w.height&&("manager"===z&&(p.section.style.maxWidth="600px",p.dialog.style.width="340px",p.contents.style.maxWidth=w.width+"px",p.dialog.style.maxHeight=x-40+"px",p.connect.style.height=x-55+"px",
p.list.style.maxHeight=x-75+"px",p.connect.style.display="block"),"client"===z&&(p.dialog.style.maxHeight=x-45+"px"),p.contents.style.height=x-55+"px",p.section.style.maxHeight=x+"px",p.chatView.style.maxHeight=x-160+"px",p.chatView.style.height=x-160+"px",p.chatView.style.minHeight=x-320+"px");600>D&&D>w.width&&x<w.height&&("manager"===z&&(p.dialog.style.maxHeight=x-40+"px",p.connect.style.height=x-40+"px",p.list.style.maxHeight=x-75+"px",p.connect.style.display="none",p.dialog.classList.add("view")),
"client"===z&&(p.dialog.style.maxHeight=x-45+"px"),p.contents.style.height=x-35+"px",p.section.style.maxHeight=x+"px",p.chatView.style.maxHeight=x-140+"px",p.chatView.style.height=x-140+"px",p.chatView.style.minHeight=x-320+"px");600>D&&D>w.width&&x>=w.height&&(d(p,z,C),p.section.style.maxHeight=w.height-20+"px",p.contents.style.height=w.height-60+"px")}}var h=document.querySelector(".smpChat"),g=document.querySelector(".smpChatIcon"),f=document.querySelector("#smpChat_"+c+"Section"),k=document.querySelector(".smpChat__iconSection"),
r=document.querySelector(".smpChat__section__close"),u=document.querySelector(".smpChat__section__contents"),m=document.querySelector(".smpChat__section__dialog"),t=document.querySelector(".smpChat__section__connect"),A=document.querySelector(".smpChat__connect__list"),y=document.querySelector(".smpChat__dialog__chatView");h={smpChat:h,section:f,iconSection:k,contents:u,dialog:m,connect:t,list:A,chatView:y};f=function(p,z){var w=I(p.section,"max-width"),E=I(p.section,"max-height"),C=I(p.contents,
"height"),D=I(p.dialog,"max-height"),x=I(p.dialog,"width"),F=I(p.chatView,"height"),H=I(p.chatView,"max-height"),R=I(p.chatView,"min-height"),J=null,K=null,N=null;"manager"===z&&(J=I(p.contents,"max-width"),K=I(p.connect,"height"),N=I(p.list,"max-height"));return{dialogMaxHeight:D,dialogWidth:x,contentsMaxWidth:J,contentsHeight:C,connectHeight:K,listMaxHeight:N,sectionMaxWidth:w,sectionMaxHeight:E,chatViewHeight:F,chatViewMaxHeight:H,chatViewMinHeight:R}}(h,c);k=na(c);g.addEventListener("click",l(h,
c,k,b,f));window.addEventListener("resize",l(h,c,k,b,f));r.addEventListener("click",function(){Q(b)});"manager"===c&&a()},qa=function(b,c){function a(h){h=document.querySelector("."+h);var g=document.createElement("section"),f=document.createElement("section"),k=document.createElement("link"),r=document.createElement("link"),u=document.createElement("link"),m=document.createElement("div"),t=document.createElement("div"),A=document.createElement("h3"),y=document.createElement("img"),p=document.createElement("img"),
z=document.createElement("div"),w=document.createElement("div"),E=document.createElement("p"),C=document.createElement("img"),D=document.createElement("div"),x=document.createElement("img"),F=document.createElement("div"),H=document.createElement("label"),R=document.createElement("span"),J=document.createElement("span"),K=document.createElement("input"),N=document.createElement("p"),X=document.createElement("p"),O=document.createElement("div"),S=document.createElement("div"),P=document.createElement("img"),
Y=document.createElement("p"),Z=document.createElement("h3"),aa=document.createElement("div"),T=document.createElement("div"),ca=document.createElement("img"),V=document.createElement("input"),da=document.createElement("label"),pa=document.createElement("textarea"),ha=document.createElement("img"),Aa=document.createTextNode("smpchat"),Ba=document.createTextNode("OFF"),Ca=document.createTextNode("ON"),Da=document.createTextNode("Beta 1.0 version - smpark all rights reserved");g.appendChild(C);g.appendChild(E);
f.appendChild(k);f.appendChild(r);f.appendChild(u);f.appendChild(m);f.appendChild(t);A.appendChild(Aa);m.appendChild(A);m.appendChild(y);m.appendChild(p);N.appendChild(Ba);X.appendChild(Ca);J.appendChild(N);J.appendChild(X);H.appendChild(R);H.appendChild(J);F.appendChild(K);F.appendChild(H);D.appendChild(F);D.appendChild(x);z.appendChild(D);z.appendChild(O);t.appendChild(z);Z.appendChild(Da);S.appendChild(P);S.appendChild(Y);S.appendChild(Z);w.appendChild(S);w.appendChild(aa);w.appendChild(T);T.appendChild(ca);
T.appendChild(da);T.appendChild(V);T.appendChild(pa);T.appendChild(ha);t.appendChild(w);h.appendChild(g);h.appendChild(f);g.className="smpChat__iconSection";f.id="smpChat_managerSection";f.className="smpChat__section";t.className="smpChat__section__contents";m.className="smpChat__section__navbar";z.className="smpChat__section__connect";w.className="smpChat__section__dialog smpChat__section__managerDialog";A.className="smpChat__section__logo";y.className="smpChat__section__theme";p.className="smpChat__section__close";
E.className="smpChat__message__alarm";C.className="smpChatIcon";D.className="smpChat__connect__navbar";x.className="smpChat__connect__goForwardImg";O.className="smpChat__connect__list";F.className="smpChat__connect__switch";R.className="smpChat__connect__switchBall";J.className="smpChat__connect__switchSpan";H.className="smpChat__connect__switchLabel";K.id="smp_chat_switch";K.className="smpChat__connect__switchInput";N.className="smpChat__connect__switchOff";X.className="smpChat__connect__switchOn";
S.className="smpChat__dialog__navbar";Z.className="smpChat__dialog__navInfo";P.className="smpChat__dialog__gobackImg";Y.className="smpChat__dialog__msgAlarm";aa.className="smpChat__dialog__chatView";T.className="smpChat__dialog__footer";ca.className="smpChat__dialog__addImg";V.id="smp_chat_addImg";V.className="smpChat__dialog__addInput";da.className="smpChat__dialog__addLabel";pa.className="smpChat__dialog__msgTextArea";ha.className="smpChat__dialog__sendImg";k.setAttribute("rel","stylesheet");k.setAttribute("href",
"https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;600;700&display=swap");r.setAttribute("rel","stylesheet");r.setAttribute("href","https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@100;300;400;600;700&display=swap");u.setAttribute("rel","stylesheet");u.setAttribute("href","https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&display=swap");C.setAttribute("src","https://smp-resource.link/smpChat/image?name=smpchat_logo.png");C.setAttribute("alt","\ucc44\ud305\uc544\uc774\ucf58");
p.setAttribute("src","https://smp-resource.link/smpChat/image?name=close.png");y.setAttribute("src","https://smp-resource.link/smpChat/image?name=redFlower.png");p.setAttribute("alt","\ucc44\ud305\ucc3d\ub2eb\uae30 \uc544\uc774\ucf58");H.htmlFor="smp_chat_switch";K.type="checkbox";K.name="smp_chat_switch";x.setAttribute("src","https://smp-resource.link/smpChat/image?name=right.png");P.setAttribute("src","https://smp-resource.link/smpChat/image?name=left.png");ca.setAttribute("src","https://smp-resource.link/smpChat/image?name=plus.png");
ha.setAttribute("src","https://smp-resource.link/smpChat/image?name=blueSend.png");da.htmlFor="smp_chat_addImg";V.type="file";V.accept="image/gif, image/jpeg, image/png";V.name="smp_chat_addImg"}function d(h){h=document.querySelector("."+h);var g=document.createElement("section"),f=document.createElement("section"),k=document.createElement("link"),r=document.createElement("link"),u=document.createElement("link"),m=document.createElement("div"),t=document.createElement("div"),A=document.createElement("h3"),
y=document.createElement("img"),p=document.createElement("img"),z=document.createElement("div"),w=document.createElement("p"),E=document.createElement("img"),C=document.createElement("div"),D=document.createElement("div"),x=document.createElement("h3"),F=document.createElement("label"),H=document.createElement("span"),R=document.createElement("span"),J=document.createElement("input"),K=document.createElement("p"),N=document.createElement("p"),X=document.createElement("div"),O=document.createElement("div"),
S=document.createElement("img"),P=document.createElement("input"),Y=document.createElement("label"),Z=document.createElement("textarea"),aa=document.createElement("img"),T=document.createTextNode("smpchat"),ca=document.createTextNode("Beta 1.0 version - smpark all rights reserved"),V=document.createTextNode("OFF"),da=document.createTextNode("ON");g.appendChild(E);g.appendChild(w);f.appendChild(k);f.appendChild(r);f.appendChild(u);f.appendChild(m);f.appendChild(t);A.appendChild(T);m.appendChild(A);
m.appendChild(y);m.appendChild(p);x.appendChild(ca);K.appendChild(V);N.appendChild(da);R.appendChild(K);R.appendChild(N);F.appendChild(H);F.appendChild(R);D.appendChild(J);D.appendChild(F);C.appendChild(x);C.appendChild(D);z.appendChild(C);z.appendChild(X);z.appendChild(O);O.appendChild(S);O.appendChild(Y);O.appendChild(P);O.appendChild(Z);O.appendChild(aa);t.appendChild(z);h.appendChild(g);h.appendChild(f);g.className="smpChat__iconSection";f.id="smpChat_clientSection";f.className="smpChat__section";
t.className="smpChat__section__contents";w.className="smpChat__message__alarm";m.className="smpChat__section__navbar";z.className="smpChat__section__dialog smpChat__section__clientDialog";A.className="smpChat__section__logo";y.className="smpChat__section__theme";p.className="smpChat__section__close";E.className="smpChatIcon";C.className="smpChat__dialog__navbar";x.className="smpChat__dialog__navInfo";D.className="smpChat__dialog__switch";H.className="smpChat__dialog__switchBall";R.className="smpChat__dialog__switchSpan";
F.className="smpChat__dialog__switchLabel";J.id="smp_chat_switch";J.className="smpChat__dialog__switchInput";K.className="smpChat__dialog__switchOff";N.className="smpChat__dialog__switchOn";X.className="smpChat__dialog__chatView";O.className="smpChat__dialog__footer";S.className="smpChat__dialog__addImg";P.id="smp_chat_addImg";P.className="smpChat__dialog__addInput";Y.className="smpChat__dialog__addLabel";Z.className="smpChat__dialog__msgTextArea";aa.className="smpChat__dialog__sendImg";k.setAttribute("rel",
"stylesheet");k.setAttribute("href","https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;600;700&display=swap");r.setAttribute("rel","stylesheet");r.setAttribute("href","https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@100;300;400;600;700&display=swap");u.setAttribute("rel","stylesheet");u.setAttribute("href","https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&display=swap");E.setAttribute("src","https://smp-resource.link/smpChat/image?name=smpchat_logo.png");E.setAttribute("alt",
"\ucc44\ud305\uc544\uc774\ucf58");y.setAttribute("src","https://smp-resource.link/smpChat/image?name=redFlower.png");p.setAttribute("src","https://smp-resource.link/smpChat/image?name=close.png");p.setAttribute("alt","\ucc44\ud305\ucc3d\ub2eb\uae30 \uc544\uc774\ucf58");F.htmlFor="smp_chat_switch";J.type="checkbox";J.name="smp_chat_switch";S.setAttribute("src","https://smp-resource.link/smpChat/image?name=plus.png");aa.setAttribute("src","https://smp-resource.link/smpChat/image?name=blueSend.png");
Y.htmlFor="smp_chat_addImg";P.type="file";P.accept="image/gif, image/jpeg, image/png";P.name="smp_chat_addImg"}var l=b.domId;"manager"===c?a(l):d(l);(function(){var h=document.querySelector(".smpChatIcon"),g=document.querySelector(".smpChat__iconSection"),f=document.querySelector(".smpChat__section"),k=document.querySelector(".smpChat__section__close"),r=document.querySelector(".smpChat__dialog__chatView");h.addEventListener("click",function(){g.classList.toggle("smp_active");f.classList.toggle("smp_active");
M(r)});k.addEventListener("click",function(){g.classList.toggle("smp_active");f.classList.toggle("smp_active")})})();(function(){function h(m){var t=f.offsetHeight,A=k.offsetHeight,y=r.offsetHeight;f.style.height="0px";f.style.height=f.scrollHeight+"px";f.scrollHeight>t&&(r.style.height=y-(m.target.offsetHeight-t)+"px",k.style.height=A+(m.target.offsetHeight-t)+"px");f.scrollHeight<t&&(r.style.height=y+(t-m.target.offsetHeight)+"px",k.style.height=A-(t-m.target.offsetHeight)+"px");m=Number(I(f,"max-height").replace(/[^0-9]/g,
""));f.style.overflowY=f.offsetHeight>=m?"scroll":"hidden"}function g(m){var t=m.target.selectionEnd,A=m.target.value.substring(t);t=m.target.value.substring(0,t);m.target.value=t+"\r\n";var y=m.target.selectionEnd;m.target.value=t+"\r\n"+A;m.target.selectionEnd=y}var f=document.querySelector(".smpChat__dialog__msgTextArea"),k=document.querySelector(".smpChat__dialog__footer"),r=document.querySelector(".smpChat__dialog__chatView"),u=oa();f.addEventListener("input",h);f.addEventListener("keydown",
function(m){u?"Enter"===m.key&&(g(m),h(m),M(r),f.blur(),f.focus()):m.ctrlKey&&"Enter"===m.key&&(g(m),h(m),M(r),f.blur(),f.focus())})})()},ta=function(b,c){function a(k,r){function u(m){m=m.trim();"\uae43\ud5c8\ube0c"!==m&&"\uae43"!==m&&"github"!==m.toLowerCase()&&"git"!==m.toLowerCase()||G.drawLink("https://github.com","github.com");"\uc774\uba54\uc77c"!==m&&"\uba54\uc77c"!==m&&"email"!==m.toLowerCase()&&"mail"!==m.toLowerCase()||G.drawLink("mailto:\ube44\uacf5\uac1c@gmail.com","\ube44\uacf5\uac1c@gmail.com")}
return function(m){if("Click"===r||m.key===r&&!m.ctrlKey){var t="Click"===r?k.message.value:m.target.value;if("string"===typeof t&&""!==t.trim()){var A=k.checkbox.checked?"on":"off";if("on"===A){if("manager"===c){var y=document.querySelectorAll(".smpChat__connect__container");y=y.length?[].concat($jscomp.arrayFromIterable(y))[0].classList.contains("select")?"chatting":"waiting":"waiting";"chatting"===y&&v(k.socket).message(t);"waiting"===y&&(G.drawOfflineMessage(t),u(t))}"client"===c&&v(k.socket).message(t)}"off"===
A&&(G.drawOfflineMessage(t),u(t));M(k.chatView);k.message.value="";k.message.style.height="40px";k.footer.style.height="60px";k.chatView.style.height=I(k.chatView,"max-height");m.preventDefault()}}}}var d=document.querySelector(".smpChat__dialog__msgTextArea"),l=document.querySelector(".smpChat__dialog__footer"),h=document.querySelector(".smpChat__dialog__chatView"),g=document.querySelector(".smpChat__dialog__sendImg"),f=document.querySelector(".smpChat__connect__switchInput")||document.querySelector(".smpChat__dialog__switchInput");
l={socket:b,message:d,footer:l,chatView:h,checkbox:f};oa()||d.addEventListener("keydown",a(l,"Enter"));g.addEventListener("click",a(l,"Click"))},ba=function(){return{sectionIcon:function(b){b=document.getElementById(b.domId);var c=document.querySelector(".smpChat__section"),a=document.querySelector(".smpChatIcon");b&&c&&a&&(b.removeChild(c),b.removeChild(a))},dialog:function(b){var c=document.querySelector(".smpChat__dialog__chatView");for(c||(c=document.querySelector('.smpChat__dialog__chatView[data-id="'+
b+'"]'));c.firstChild;)c.removeChild(c.firstChild);delete c.dataset.id},preview:function(){for(var b=document.querySelector(".smpChat__connect__list");b.firstChild;)b.removeChild(b.firstChild)}}}(),G=function(){function b(a){var d=function(r){return 10>r?"0"+r:r},l=a?new Date(a):new Date,h=l.getFullYear(),g=d(l.getMonth()+1),f=d(l.getDate()),k=d(l.getHours());d=d(l.getMinutes());return a?g+"\uc6d4 "+f+"\uc77c":h+"-"+g+"-"+f+" "+k+":"+d}function c(a){var d=new Date(a.dateTime),l=new Date(b());d=l-
d;var h=Math.floor(d/6E4),g=Math.floor(d/36E5),f=Math.floor(d/864E5),k="\ubc29\uae08 \uc804";1<=h&&1>g&&(k=h+"\ubd84 \uc804");1<=g&&1>f&&(k="\uc57d "+g+"\uc2dc\uac04 \uc804");1<=f&&(k=b(l-d));setTimeout(function(){return c(a)},6E4);a.textContent=k}return{drawNotice:function(){var a=document.querySelector(".smpChat__dialog__chatView"),d=document.createElement("div"),l=document.createElement("div"),h=document.createElement("img"),g=document.createElement("p"),f=document.createElement("span"),k=document.createElement("div"),
r=document.createElement("p"),u=document.createElement("time"),m=document.createTextNode("smpchat_bot"),t=document.createTextNode("[\uacf5\uc9c0\uc0ac\ud56d]");g.appendChild(m);l.appendChild(h);l.appendChild(g);l.appendChild(f);d.appendChild(l);r.innerHTML='\uc548\ub155\ud558\uc138\uc694! \uc774\uc6a9\ubc29\ubc95\uc744 \uc77d\uc5b4\uc8fc\uc138\uc694.\n            </br>\uc0c1\ub2e8 \uc2a4\uc704\uce58 \ubc84\ud2bc\uc744 \ud074\ub9ad\uc2dc \uc11c\ubc84\uc640 \uc5f0\uacb0\ub429\ub2c8\ub2e4.\n            </br>\uba54\uc2dc\uc9c0 \uc785\ub825 \uc2dc \ucee8\ud2b8\ub864 + \uc5d4\ud130\ud0a4\ub97c \ud1b5\ud574 \uc904 \ubc14\uafc8 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n            </br>\uba54\uc2dc\uc9c0 \uc785\ub825 \ud6c4 \uc5d4\ud130 \ub610\ub294 \uc6b0\uce21\ud558\ub2e8 \uc544\uc774\ucf58 \ud074\ub9ad \uc2dc \uc804\uc1a1\ub429\ub2c8\ub2e4.\n            </br>\uc88c\uce21\ud558\ub2e8 \ud50c\ub7ec\uc2a4 \uc544\uc774\ucf58 \ub610\ub294 \ub4dc\ub798\uadf8\ub97c \ud1b5\ud574 \uc774\ubbf8\uc9c0\ub97c \ubcf4\ub0bc \uc218 \uc788\uc2b5\ub2c8\ub2e4.(1MB \uc774\ud558)\n            </br>\uc11c\ubc84 \uc5f0\uacb0 \uc804 "\uae43\ud5c8\ube0c" \ub610\ub294 "\uc774\uba54\uc77c"\uc744 \uc785\ub825\ud558\uc2dc\uba74 \ud574\ub2f9 \ub9c1\ud06c\ub97c \uc5bb\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n            </br>\uc11c\ubc84 \uc5f0\uacb0 \uc804 \uba54\uc2dc\uc9c0\ub294 \uc800\uc7a5\ub418\uc9c0 \uc54a\uc73c\uba70 \uc0c8\ub85c\uace0\uce68 \ub610\ub294 \uc11c\ubc84 \uc5f0\uacb0 \uc2dc \uc0ad\uc81c\ub429\ub2c8\ub2e4.\n            </br><b>[\ucc44\ud305\uc6b4\uc601\uc2dc\uac04]</b></br>\ud3c9\uc77c 10:00 ~ 18:00\n            </br>\uac10\uc0ac\ud569\ub2c8\ub2e4 :D';
f.appendChild(t);k.appendChild(r);d.appendChild(k);d.appendChild(u);a.appendChild(d);d.className="smpChat__dialog__containerLeft";k.className="smpChat__dialog__contentContainerLeft";l.className="smpChat__dialog__profile";h.className="smpChat__dialog__profileImage";r.className="smpChat__dialog__content";u.className="smpChat__dialog__time ";g.className="smpChat__dialog__managerId";f.className="smpChat__dialog__span";u.setAttribute("datetime",b());h.src="https://smp-resource.link/smpChat/image?name=smpark.jpg";
c(u)},drawLink:function(a,d){var l=document.querySelector(".smpChat__dialog__chatView"),h=document.createElement("div"),g=document.createElement("div"),f=document.createElement("img"),k=document.createElement("p"),r=document.createElement("span"),u=document.createElement("div"),m=document.createElement("time"),t=document.createElement("a"),A=document.createTextNode("smpchat_bot"),y=document.createTextNode(d),p=document.createTextNode("[\uc815\ubcf4]");k.appendChild(A);t.appendChild(y);r.appendChild(p);
g.appendChild(f);g.appendChild(k);g.appendChild(r);h.appendChild(g);u.appendChild(t);h.appendChild(u);h.appendChild(m);l.appendChild(h);h.className="smpChat__dialog__containerLeft";u.className="smpChat__dialog__contentContainerLeft";g.className="smpChat__dialog__profile";f.className="smpChat__dialog__profileImage";t.className="smpChat__dialog__content";m.className="smpChat__dialog__time";k.className="smpChat__dialog__managerId";r.className="smpChat__dialog__span";t.setAttribute("href",a);t.target=
"_blank";m.setAttribute("datetime",b());f.src="https://smp-resource.link/smpChat/image?name=smpark.jpg";c(m)},drawAlert:function(a){var d=document.querySelector(".smpChat__dialog__chatView"),l=document.createElement("div"),h=document.createElement("div"),g=document.createElement("img"),f=document.createElement("p"),k=document.createElement("span"),r=document.createElement("div"),u=document.createElement("p"),m=document.createElement("time"),t=document.createTextNode("smpchat_bot"),A=document.createTextNode("[\uc54c\ub9bc]"),
y=null;"duplicate"===a&&(y="\uc0ac\uc6a9\uc790\uac00 \uc774\ubbf8 \ucc44\ud305 \uc11c\ubc84\ub97c \uc774\uc6a9 \uc911\uc785\ub2c8\ub2e4.\n          </br>\uae30\uc874\uc5d0 \ucc44\ud305 \uc11c\ubc84\ub97c \uc774\uc6a9 \uc911\uc774 \uc544\ub2c8\uc168\ub2e4\uba74 \uc7a6\uc740 \uc0c8\ub85c\uace0\uce68\uc774 \uc6d0\uc778\uc77c \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n          </br>30\ucd08 \ub4a4\uc5d0 \uc11c\ubc84\ub97c \ub2e4\uc2dc \uc2e4\ud589\ud574 \uc8fc\uc138\uc694.");"imageSizeOver"===a&&(y="\uc774\ubbf8\uc9c0 \ud06c\uae30\ub294 1MB \uc774\ud558\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4.");
"imageTypeError"===a&&(y="\uc774\ubbf8\uc9c0 \ud655\uc7a5\uc790\ub294 jpg, png, bmp\ub9cc \uc9c0\uc6d0\ud569\ub2c8\ub2e4.");f.appendChild(t);h.appendChild(g);h.appendChild(f);h.appendChild(k);l.appendChild(h);u.innerHTML=y;k.appendChild(A);r.appendChild(u);l.appendChild(r);l.appendChild(m);d.appendChild(l);l.className="smpChat__dialog__containerLeft";r.className="smpChat__dialog__contentContainerLeft";h.className="smpChat__dialog__profile";g.className="smpChat__dialog__profileImage";u.className="smpChat__dialog__content";
m.className="smpChat__dialog__time";f.className="smpChat__dialog__managerId";k.className="smpChat__dialog__span";m.setAttribute("datetime",b());g.src="https://smp-resource.link/smpChat/image?name=smpark.jpg";c(m);M(d)},drawOfflineMessage:function(a){var d=document.querySelector(".smpChat__dialog__chatView"),l=document.createElement("div"),h=document.createElement("div"),g=document.createElement("p"),f=document.createElement("time");a=document.createTextNode(a);g.appendChild(a);h.appendChild(g);l.appendChild(f);
l.appendChild(h);d.appendChild(l);l.className="smpChat__dialog__containerRight";h.className="smpChat__dialog__contentContainerRight";g.className="smpChat__dialog__content";f.className="smpChat__dialog__time";f.setAttribute("datetime",b());c(f)},drawDialog:function(a,d){function l(){t.appendChild(x);t.appendChild(D);null!==u?w.appendChild(C):w.appendChild(E);E.appendChild(F);t.appendChild(w);t.className="smpChat__dialog__containerRight";w.className=null!==u?"smpChat__dialog__imageContentContainerRight":
"smpChat__dialog__contentContainerRight";if(a.observe){var H=localStorage.getItem("smpchat-user-theme");H||(H="blue");x.src="https://smp-resource.link/smpChat/image?name="+H+"Check.png"}else x.src="https://smp-resource.link/smpChat/image?name=greyCheck.png"}var h=a.seq,g=a.userId,f=a.message,k=a.registerTime,r=a.roomName,u=a.image,m=document.querySelector(".smpChat__dialog__chatView"),t=document.createElement("div"),A=document.createElement("div"),y=document.createElement("img"),p=document.createElement("p"),
z=document.createElement("span"),w=document.createElement("div"),E=document.createElement("p"),C=document.createElement("img"),D=document.createElement("time"),x=document.createElement("img"),F=document.createTextNode(f);f=document.createTextNode(g);g!==d?(p.appendChild(f),A.appendChild(y),A.appendChild(p),A.appendChild(z),t.appendChild(A),null!==u?w.appendChild(C):w.appendChild(E),E.appendChild(F),t.appendChild(w),t.appendChild(D),t.appendChild(x),p.className="smpChat__dialog__id",A.className="smpChat__dialog__profile",
y.className="smpChat__dialog__profileImage",m.className="smpChat__dialog__chatView",t.className="smpChat__dialog__containerLeft",w.className=null!==u?"smpChat__dialog__imageContentContainerLeft":"smpChat__dialog__contentContainerLeft",m.dataset.id=r,y.src="manager"===a.userType?"https://smp-resource.link/smpChat/image?name=smpark.jpg":"https://smp-resource.link/smpChat/image?name=starProfile.png",y.setAttribute("ondragstart","return false")):l();m.appendChild(t);E.className="smpChat__dialog__content";
C.className="smpChat__dialog__contentImage";D.className="smpChat__dialog__time";x.className="smpChat__dialog__observe";D.setAttribute("datetime",k);t.dataset.seq=h;null!==u&&(C.src="data:image/jpeg;base64,"+u,C.setAttribute("ondragstart","return false"),C.onload=function(){return M(m)});c(D)},drawPrevDialog:function(a,d){var l=a.seq,h=a.userId,g=a.message,f=a.registerTime,k=a.roomName,r=a.image,u=document.querySelector(".smpChat__dialog__chatView"),m=document.createElement("div"),t=document.createElement("div"),
A=document.createElement("img"),y=document.createElement("p"),p=document.createElement("span"),z=document.createElement("div"),w=document.createElement("p"),E=document.createElement("img"),C=document.createElement("time");document.querySelector('.smpChat__dialog__chatView[data-id="'+d+'"]')||(u.dataset.id=k);g=document.createTextNode(g);k=document.createTextNode(h);h!==d?(y.appendChild(k),t.appendChild(A),t.appendChild(y),t.appendChild(p),m.appendChild(t),m.appendChild(C),null!==r?z.appendChild(E):
z.appendChild(w),w.appendChild(g),m.appendChild(z),m.appendChild(C),y.className="smpChat__dialog__id",t.className="smpChat__dialog__profile",A.className="smpChat__dialog__profileImage",m.className="smpChat__dialog__containerLeft",z.className=null!==r?"smpChat__dialog__imageContentContainerLeft":"smpChat__dialog__contentContainerLeft"):(m.appendChild(C),null!==r?z.appendChild(E):z.appendChild(w),w.appendChild(g),m.appendChild(z),m.className="smpChat__dialog__containerRight",z.className=null!==r?"smpChat__dialog__imageContentContainerRight":
"smpChat__dialog__contentContainerRight");u.prepend(m);w.className="smpChat__dialog__content";E.className="smpChat__dialog__contentImage smpChat__dialog__contentImage_"+h;C.className="smpChat__dialog__time smpChat__dialog__time_"+h+" smpChat__dialog__time";C.setAttribute("datetime",f);m.dataset.seq=l;A.src="https://smp-resource.link/smpChat/image?name=starProfile.png";null!==r&&(E.src="data:image/jpeg;base64,"+r);c(C)},drawSystemMessage:function(a,d){d=void 0===d?!1:d;var l=document.querySelector(".smpChat__dialog__chatView"),
h=document.createElement("div"),g=document.createElement("p"),f=null;"on"!==a||d||(f="\uc11c\ubc84\uc5d0 \uc5f0\uacb0\ub418\uc5c8\uc2b5\ub2c8\ub2e4. [\uc628\ub77c\uc778]");"off"!==a||d||(f="\uc11c\ubc84\uc5d0 \uc5f0\uacb0\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4. [\uc624\ud504\ub77c\uc778]");"on"===a&&d&&(f=d);g.textContent=f;h.appendChild(g);l.appendChild(h);h.className="smpChat__dialog__systemBar";g.className="smpChat__dialog__systemMsg";M(l)},drawPreview:function(a){function d(){var t=document.querySelector('.smpChat__connect__content[data-id="'+
f+'"]'),A=document.querySelector('.smpChat__connect__time[data-id="'+f+'"]');t.textContent=h;A.setAttribute("datetime",g);c(A)}function l(){var t=document.createElement("div"),A=document.createElement("p"),y=document.createElement("img"),p=document.createElement("p"),z=document.createTextNode(f),w=document.createTextNode(h);A.appendChild(z);u.appendChild(w);t.appendChild(A);t.appendChild(m);t.appendChild(y);r.appendChild(u);r.appendChild(p);t.appendChild(r);k.appendChild(t);A.className="smpChat__connect__id";
m.className="smpChat__connect__time";u.className="smpChat__connect__content";t.className="smpChat__connect__container";y.className="smpChat__connect_previewExit";p.className="smpChat__connect_previewAlarm";r.className="smpChat__connect__contentsContainer";p.dataset.id=f;y.dataset.id=f;t.dataset.id=f;u.dataset.id=f;m.dataset.id=f;y.src="https://smp-resource.link/smpChat/image?name=greyXbtn.png";m.setAttribute("datetime",g);c(m)}var h=a.message,g=a.registerTime,f=a.roomName,k=document.querySelector(".smpChat__connect__list"),
r=document.createElement("div"),u=document.createElement("p"),m=document.createElement("time");document.querySelector('.smpChat__connect__container[data-id="'+f+'"]')?d():l()}}}(),M=function(b){b.scrollTo(0,b.scrollHeight)},Ea=function(b){var c=document.createElement("iframe");c.className="smpChat_message_alarmAudio";c.src="https://smp-resource.link/smpChat/sound?name=silence.mp3";c.type="audio/mp3";var a=document.createElement("audio");a.src="https://smp-resource.link/smpChat/sound?name=alarmSound.mp3";
a.type="audio/mp3";a.setAttribute("autoplay",!0);b.appendChild(c);b.appendChild(a)},sa=function(){function b(c,a){return function(){var d=c.checked?"on":"off";if(!c.checked){v(a).serverSwitch(d);var l=document.querySelector(".smpChat__connect__list");if(l){for(;l.hasChildNodes();)l.removeChild(l.firstChild);return}}ea.on(a);v(a).serverSwitch(d)}}return function(c){var a=document.querySelector(".smpChat__connect__switchInput")||document.querySelector(".smpChat__dialog__switchInput");a&&a.addEventListener("click",
b(a,c))}}(),ea=function(){return{on:function(b){return b.open()},off:function(b){return b.disconnect()}}}(),ia=function(b){var c=document.querySelector(".smpChat__connect__switchInput")||document.querySelector(".smpChat__dialog__switchInput");"refresh"===b&&(b="on");c.checked="on"===b?!0:!1},xa=function(){function b(c,a){return function(d){var l=d.target.closest(".smpChat__connect__container");if(l){d=d.target;l=l.dataset.id;var h=document.querySelector('.smpChat__connect_previewAlarm[data-id="'+
l+'"]'),g=document.querySelector('.smpChat__connect_previewExit[data-id="'+l+'"]');d!==g&&(h&&(h.classList.remove("view"),h.textContent=0),v(c).join(l),v(c).observe(l))}}}return function(c,a,d){"manager"===a&&document.querySelector(".smpChat__connect__list").addEventListener("click",b(c,d))}}(),ya=function(){function b(c){return function(a){var d=a.target.closest(".smpChat__connect__container");if(d){a=a.target;var l=d.dataset.id,h=document.querySelector('.smpChat__connect_previewExit[data-id="'+
l+'"]'),g=document.querySelector('.smpChat__dialog__chatView[data-id="'+l+'"]');if(a===h)if(g){if(confirm("\ucc44\ud305\ubc29\uc744 \ub098\uac00\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){for(d.remove();g.hasChildNodes();)g.removeChild(g.firstChild);v(c).leave(l)}}else!g&&confirm("\ucc44\ud305 \uc694\uccad\ubaa9\ub85d\uc744 \uc9c0\uc6b0\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(d.remove(),v(c).leave(l))}}}return function(c,a){if("manager"===a){var d=document.querySelector(".smpChat__connect__list");d&&d.addEventListener("click",
b(c))}}}(),ua=function(){function b(c,a){return function(d){a&&clearTimeout(a);a=setTimeout(function(){if((document.querySelector(".smpChat__dialog__switchInput")||document.querySelector(".smpChat__connect__switchInput")).checked){var l=d.target.firstChild;l&&0===d.target.scrollTop&&"smpChat__dialog__systemBar"!==l.className&&(l=l.dataset.seq,v(c).prevDialog(l))}},200)}}return function(c){document.querySelector(".smpChat__dialog__chatView").addEventListener("scroll",b(c,0),!1)}}(),va=function(){function b(g){return function(f){c(f.target.files[0],
g);f.target.value=null}}function c(g,f){if(g&&"ok"===a(g)){var k=new FileReader,r=g.name;k.readAsArrayBuffer(g);k.onload=function(u){u=new Uint8Array(u.target.result);v(f).message(null,{bytes:u,name:r})}}}function a(g){if("image/png"!==g.type&&"image/jpg"!==g.type&&"image/jpeg"!==g.type&&"image/bmp"!==g.type)G.drawAlert("imageTypeError");else if("1048576"<g.size)G.drawAlert("imageSizeOver");else return"ok"}function d(g){return function(f){f.preventDefault();g.classList.add("smpChat__dialog__dottedLine")}}
function l(g){return function(f){f.preventDefault();g.classList.remove("smpChat__dialog__dottedLine")}}function h(g,f){return function(k){k.preventDefault();g.classList.remove("smpChat__dialog__dottedLine");c(k.dataTransfer.files[0],f)}}return function(g){var f=document.querySelector(".smpChat__dialog__addInput"),k=document.querySelector(".smpChat__dialog__chatView");f.addEventListener("change",b(g),!1);k.addEventListener("dragover",d(k),!1);k.addEventListener("dragleave",l(k),!1);k.addEventListener("drop",
h(k,g),!1)}}(),wa=function(){function b(c){c=c.target;var a=document.querySelector(".smpChat__dialog__sendImg"),d=localStorage.getItem("smpchat-user-theme");d||(d="blue");"blue"===d?(document.documentElement.setAttribute("smpchat-user-theme","red"),c.src="https://smp-resource.link/smpChat/image?name=blueFlower.png",a.src="https://smp-resource.link/smpChat/image?name=redSend.png",fa("red"),localStorage.setItem("smpchat-user-theme","red")):"red"===d&&(document.documentElement.setAttribute("smpchat-user-theme",
"blue"),c.src="https://smp-resource.link/smpChat/image?name=redFlower.png",a.src="https://smp-resource.link/smpChat/image?name=blueSend.png",fa("blue"),localStorage.setItem("smpchat-user-theme","blue"))}return function(){var c=document.querySelector(".smpChat__section__theme"),a=localStorage.getItem("smpchat-user-theme");a||(a="blue");"red"===a&&(c.src="https://smp-resource.link/smpChat/image?name=blueFlower.png");document.documentElement.setAttribute("smpchat-user-theme",a);c.addEventListener("click",
b,!1)}}(),I=function(b,c){return window.getComputedStyle(b).getPropertyValue(c)},la=function(b,c){var a=c.roomName,d=c.observe;if(!b.select&&!b.effect&&!d){var l=function(){var m=getComputedStyle(document.documentElement).getPropertyValue("--smpchat_color_navSubBarRGB");return m.substring(0,m.length-1)},h=function(m){0===r&&(r=m);10<(m-r)/10&&(k=u?k+.1:k-.1,1===k&&(u=!1),0===k&&(u=!0),k=Number(k.toFixed(1)),g.style.outline="3px groove "+l()+", "+k+")",g.style.boxShadow="inset 0 2px 45px "+l()+", "+
k+")",r=m);f=requestAnimationFrame(h);g.dataset.raf=f},g=document.querySelector('.smpChat__connect__container[data-id="'+a+'"]'),f=null,k=0,r=0,u=!0;g.classList.add("effect");requestAnimationFrame(h)}},za=function(b){"client"!==b&&document.querySelector(".smpChat__connect__list").addEventListener("click",function(c){c=c.target;var a=c.closest(".smpChat__connect__container"),d=document.querySelector('.smpChat__connect_previewExit[data-id="'+(null==a?void 0:a.dataset.id)+'"]');c!==d&&a&&(a.style.outline=
"none",a.style.boxShadow="none",cancelAnimationFrame(a.dataset.raf))})},ma=function(b){if(b){var c=document.querySelector(".smpChat__connect__list");document.querySelectorAll(".smpChat__connect__container").forEach(function(a){return a.classList.remove("select")});if(b=document.querySelector('.smpChat__connect__container[data-id="'+b+'"]'))b.classList.remove("effect"),b.classList.add("select"),c.insertBefore(b,c.firstChild)}},ja=function(b,c){var a=document.querySelector(".smpChat__dialog__chatView"),
d=document.querySelector(".smpChat__iconSection");a&&(new IntersectionObserver(function(l,h){if(d.classList.contains("smp_active"))l.forEach(function(f){if(f.isIntersecting){var k,r;if(f=null==(k=document.querySelector(".smpChat__dialog__chatView"))?void 0:null==(r=k.dataset)?void 0:r.id)v(b).observe(f),"manager"===c&&(k=document.querySelector(".smpChat__dialog__msgAlarm"))&&k.classList.remove("view")}});else{var g=document.querySelector(".smpChat__message__alarm");g=g.textContent?parseInt(g.textContent):
null;0<g&&"number"===typeof g&&Ea(d)}})).observe(a)},fa=function(b){b=void 0===b?null:b;var c=document.querySelectorAll(".smpChat__dialog__observe");[].concat($jscomp.arrayFromIterable(c)).map(function(a){var d=a.getAttribute("src");if(d){var l=d.indexOf("greyCheck");-1===l&&b?a.src="https://smp-resource.link/smpChat/image?name="+b+"Check.png":"greyCheck"!==d.substring(l,d.length-4)||b||((d=localStorage.getItem("smpchat-user-theme"))||(d="blue"),a.src="https://smp-resource.link/smpChat/image?name="+
d+"Check.png")}})},ka=function(b){b=document.querySelector('.smpChat__connect__container[data-id="'+b+'"]');var c=!1,a=!1;b.classList.contains("select")&&(c=!0);b.classList.contains("effect")&&(a=!0);return{select:c,effect:a}},W=function(){return{messagePreview:function(b,c){var a=document.querySelector(".smpChat__section"),d=document.querySelector('.smpChat__connect_previewAlarm[data-id="'+c+'"]'),l=document.querySelector('.smpChat__dialog__chatView[data-id="'+c+'"]');!("number"===typeof b&&0<b)||
l&&a.classList.contains("smp_active")||(d.classList.add("view"),d.textContent=b)},refreshPreview:function(b,c){var a=document.querySelector('.smpChat__connect_previewAlarm[data-id="'+c+'"]'),d=document.querySelector('.smpChat__dialog__chatView[data-id="'+c+'"]');if("object"===typeof b&&!d)for(id in b)id===c&&0<b[id]&&(a.classList.add("view"),a.textContent=b[id])},icon:function(b,c){var a=document.querySelector(".smpChat__message__alarm");if(a&&"number"===typeof b&&!(0>=b)){a.classList.add("view");
var d=a.textContent;d&&(d=parseInt(d));a.textContent=b<d?d:b}},clickIconHide:function(){document.querySelector(".smpChatIcon").addEventListener("click",function(){var b=document.querySelectorAll(".smpChat__connect__container");[].concat($jscomp.arrayFromIterable(b)).map(function(c){c.classList.contains("select")&&(c=document.querySelector('.smpChat__connect_previewAlarm[data-id="'+c.dataset.id+'"]'),c.textContent=0,c.classList.remove("view"))})},!1)},clickReDraw:function(){function b(h){return function(){var g=
document.querySelectorAll(".smpChat__connect_previewAlarm");h.classList.add("view");if(g){var f=0;[].concat($jscomp.arrayFromIterable(g)).map(function(k){k.textContent&&(k=parseInt(k.textContent),"number"===typeof k&&0<k&&(f+=k))});0<f?h.textContent=f:(h.textContent=f,h.classList.remove("view"))}else h.textContent=0,h.classList.remove("view")}}var c=document.querySelector(".smpChat__section__close"),a=document.querySelector(".smpChat__connect__goForwardImg"),d=document.querySelector(".smpChat__message__alarm"),
l=document.querySelector(".smpChat__dialog__msgAlarm");c&&c.addEventListener("click",b(d));a&&a.addEventListener("click",b(l))}}}(),U=function(b){var c=Error.call(this,b);this.message=c.message;"stack"in c&&(this.stack=c.stack);this.message=b;this.name="SmpChatError"};$jscomp.inherits(U,Error);U.errHandle=function(b){return console.log(b)};e.smpChat=n})(window);